{"version":3,"sources":["App.module.css","services/image-api.js","components/Searchbar.js","components/ImageGalleryItem.js","components/Modal.js","components/Button.js","components/ImageGallery.js","App.js","index.js"],"names":["module","exports","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGalleryItem","onClickGalleryItem","map","id","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleReyDown","code","hadleBackdropClick","target","window","addEventListener","removeEventListener","modalImage","title","createPortal","Overlay","Button","loadMore","ImageGallery","error","showModal","loading","toggleModal","onChangeQuery","fetchHits","options","prevState","imagesApi","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","prevProps","Loader","color","height","width","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.14f5e53a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Searchbar\":\"App_Searchbar__3NDw7\",\"SearchForm\":\"App_SearchForm__eF--A\",\"SearchFormButton\":\"App_SearchFormButton__1NstD\",\"SearchFormButtonLabel\":\"App_SearchFormButtonLabel__2elAg\",\"SearchFormInput\":\"App_SearchFormInput__pCWrI\",\"ImageGallery\":\"App_ImageGallery__2g-wU\",\"ImageGalleryItem\":\"App_ImageGalleryItem__x8tb5\",\"ImageGalleryItemImage\":\"App_ImageGalleryItemImage__1usgz\",\"Overlay\":\"App_Overlay__2VwYF\",\"Modal\":\"App_Modal__3TBj2\",\"Button\":\"App_Button__3SFOE\",\"Loader\":\"App_Loader__12yUz\"};","import axios from 'axios';\n\nconst fetchHits = ({ searchQuery = [], currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=19822283-ed0faee6ad1fffca99be2e04e&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchHits };\n","import React, { Component } from 'react';\nimport styles from '../App.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  query: PropTypes.string,\n};\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport styles from '../App.module.css';\nimport PropTypes from 'prop-types';\n\nclass ImageGalleryItem extends Component {\n  render() {\n    const { hits, onClickGalleryItem } = this.props;\n    return hits.map(({ id, webformatURL, largeImageURL, tags }) => (\n      <li\n        key={id}\n        className={styles.ImageGalleryItem}\n        onClick={() => onClickGalleryItem(largeImageURL, tags)}\n      >\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={styles.ImageGalleryItemImage}\n        />\n      </li>\n    ));\n  }\n}\n\nImageGalleryItem.propTypes = {\n  hits: PropTypes.array,\n  onClickGalleryItem: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport styles from '../App.module.css';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleReyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleReyDown);\n  }\n\n  handleReyDown = e => {\n    const { onClick } = this.props;\n    if (e.code === 'Escape') {\n      onClick();\n    }\n  };\n\n  hadleBackdropClick = e => {\n    const { onClick } = this.props;\n    if (e.target === e.currentTarget) {\n      onClick();\n    }\n  };\n\n  render() {\n    const { modalImage, title } = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.hadleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={modalImage} alt={title} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  title: PropTypes.string,\n  modalImage: PropTypes.string,\n};\n","import React, { Component } from 'react';\nimport styles from '../App.module.css';\n\nexport default class Button extends Component {\n  render() {\n    const { loadMore } = this.props;\n    return (\n      <button type=\"button\" onClick={loadMore} className={styles.Button}>\n        Load more\n      </button>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../App.module.css';\nimport imagesApi from '../services/image-api';\nimport Searchbar from './Searchbar';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Modal from './Modal';\nimport Button from './Button';\nimport Loader from 'react-loader-spinner';\n\nclass ImageGallery extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    error: null,\n    showModal: false,\n    modalImage: '',\n    title: '',\n    loading: false,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n    this.setState(prevState => ({ loading: true }));\n    imagesApi\n      .fetchHits(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  onClickGalleryItem = (src, alt) => {\n    this.toggleModal();\n    this.setState({ modalImage: src, title: alt });\n  };\n\n  render() {\n    const { hits, error, showModal, modalImage, title, loading } = this.state;\n    return (\n      <>\n        {error && <h1>Error</h1>}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {showModal && (\n          <Modal\n            onClick={this.onClickGalleryItem}\n            modalImage={modalImage}\n            title={title}\n          />\n        )}\n        <ul className={styles.ImageGallery}>\n          {hits && (\n            <ImageGalleryItem\n              hits={hits}\n              onClickGalleryItem={this.onClickGalleryItem}\n            />\n          )}\n        </ul>\n        {loading && (\n          <Loader\n            className={styles.Loader}\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n        )}\n        {hits.length > 0 && <Button loadMore={this.fetchHits} />}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  error: PropTypes.string,\n  showModal: PropTypes.func,\n  modalImage: PropTypes.bool,\n  title: PropTypes.string,\n  loading: PropTypes.bool,\n  hits: PropTypes.array,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport ImageGallery from './components/ImageGallery';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className={styles.App}>\n        <ImageGallery />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}